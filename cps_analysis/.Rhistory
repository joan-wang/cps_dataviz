version
version
install.packages('ggplot2')
source('~/HARRIS/R Learning/Test1.R', echo=TRUE)
install.packages('ggplot2')
library(ggplot2)
source('~/HARRIS/R Learning/Test1.R', echo=TRUE)
view(autodata)
View(autodata)
summary(autodata)
autodata$trans = factor(autodata$am, labels=c('automatic','manual'))
?factor
summary(autodata$trans)
autodata$cylfact = factor(autodata$cyl)
summary(autodata$cylfact)
class(autodata$cylfact)
table(autodata$trans, autodata$cylfact)
ct = table(autodata$trans, autodata$cylfact)
prop.table(ct)
prop.table(ct, 1)
prop.table(ct, 2)
qplot(data-autodata, x-spg, geom='histogram')
qplot(data=autodata, x=spg, geom='histogram')
qplot(data=autodata, x=mpg, geom='histogram')
install.packages('dpylr')
install.packages('dyplr')
install.packages('dplyr')
library(tidyverse)
source('https://raw.githubusercontent.com/UrbanInstitute/urban_R_theme/master/urban_theme_mac.R')
# Load Data (source: https://www.bls.gov/tus/datafiles_2016.htm)
respondent <- read_csv("data/atusresp_2016.dat", na = "-1")
activity <- read_csv("data/atussum_2016.dat", na = "-1")
install.packages('rmarkdown')
library(rmarkdown)
sumJ(x=1:5)
sum(x=1:5)
sum(y<-1:5)
x
y
mtcars$mpg
mtcars$mpg
mtcars[5, 1:8]
install.packages('tidyverse')
e R's ordered categorical variables
char <- c('a','b','c')
factr <- factor(char, levels=c('a','b'))
table(char)
table(factr)
char <- c('a','a','a')
factr <- factor(char, levels=c('a','b'))
table(char)
table(factr)
as.integer(factr)
?install.packages
install.package(c('readr', 'haven', 'dplyr', 'tidyr', 'stringr', 'ggplot2'))
install.packages(c('readr', 'haven', 'dplyr', 'tidyr', 'stringr', 'ggplot2'))
?library
library('readr')
library('haven')
library('dplyr')
library('tidyr')
library('stringr')
library('ggplot2')
library(tidyverse)
library(viridis)
library(ggthemes)
library(RColorBrewer)
countries <- read_csv('../data/Countries_merged.csv')
assessments <- read_csv('../data/Assessments_cleaned.csv')
country_goods <- read_csv('../data/CountryGoods.csv')
statistics <- read_csv('../data/Statistics_cleaned.csv')
indicators <- read_csv('../data/HTI00-11.csv')
pdf(file="three_charts.pdf", width=8, height=+ guides(fill=FALSE))
# Bubble Chart
country_goods$good = factor(country_goods$good)
country_goods_2015 <- filter(country_goods, year == 2015)
freq_goods <- count(country_goods_2015, good) %>%
arrange(desc(n)) %>%
top_n(10)
ggplot(data=subset(country_goods_2015,good %in% freq_goods$good), aes(good)) +
geom_dotplot(binwidth=0.5, method='histodot', aes(fill=regionname)) +
scale_y_continuous(name = "Count of countries", breaks = NULL) +
scale_x_discrete(position = 'top') +
labs(title = "Gold, sugarcane, bricks, and cotten are the goods most frequently produced by child or forced labor",
subtitle = "Top ten products produced by child or forced labor in 2015",
x = "Good",
fill = "Region Name",
caption = "Source: United States Department of Labor (DOL), Sweat & Toil Dataset")+
theme(plot.title = element_text(size=11), axis.text.x = element_text(angle = 45, hjust = 0)) +
scale_fill_brewer(drop=TRUE, palette=3, breaks=c('Asia & the Pacific', 'Latin America & the Caribbean', 'Sub-Saharan Africa'))
country_goods$good = factor(country_goods$good)
country_goods_2015 <- filter(country_goods, year == 2015)
freq_goods <- count(country_goods_2015, good) %>%
arrange(desc(n)) %>%
top_n(10)
ggplot(data=subset(country_goods_2015,good %in% freq_goods$good), aes(good)) +
geom_dotplot(binwidth=0.5, method='histodot', aes(fill=regionname)) +
scale_y_continuous(name = "Count of countries", breaks = NULL) +
scale_x_discrete(position = 'top') +
labs(title = "Gold, sugarcane, bricks, and cotten are the goods most frequently produced by child or forced labor",
subtitle = "Top ten products produced by child or forced labor in 2015",
x = "Good",
fill = "Region Name",
caption = "Source: United States Department of Labor (DOL), Sweat & Toil Dataset")+
theme(plot.title = element_text(size=11), axis.text.x = element_text(angle = 45, hjust = 0)) +
scale_fill_brewer(drop=TRUE, palette=3, breaks=c('Asia & the Pacific', 'Latin America & the Caribbean', 'Sub-Saharan Africa'))
progress <- read_csv('..\\cps_data\\combined_1617')
library(tidyverse)
combined_1617<- read_csv('..\\cps_data\\combined_1617')
thisdir <- dirname(parent.frame(2)$ofile)
this.dir <- dirname(parent.frame(2)$ofile)
this.dir <- dirname(parent.frame(2)$ofile)
setwd("~/GitHub/data-viz-project/cps_analysis")
combined_1617<- read_csv('..\\cps_data\\combined_1617')
combined_1617<- read_csv('../cps_data/combined_1617')
combined_1617<- read_csv('../cps_data/Combined_1617')
combined_1617<- read_csv('../cps_data/Pombined_1617')
combined_1617<- read_csv('../cps_data/Profile_1617')
pwd
pwd()
getwd()
ls
library(tidyverse)
combined_1617 <- read_csv('../cps_data/Combined_1617')
combined_1617 <- read_csv('../cps_data/Combined_1617.csv')
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES))
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
+ xlim(40, 100)
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
xlim(40, 100)
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
xlim(80, 100)
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_1_Pct, y = Attainment_Reading_Pct_ES)) +
xlim(80, 100)
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_1_Pct, y = Attainment_Math_Pct_ES)) +
xlim(80, 100)
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_1_Pct, y = Attainment_Math_Pct_ES))
ggplot(data = combined_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_1_Pct, y = Attainment_Math_Pct_ES)) +
xlim(75, 100)
elem_1617 <- filter(combined_1617, Primary_Category == ES)
ggplot(data = elem_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_1_Pct, y = Attainment_Math_Pct_ES)) +
xlim(75, 100)
elem_1617 <- filter(combined_1617, Primary_Category == ES)
elem_1617 <- filter(combined_1617, Primary_Category == 'ES')
ggplot(data = elem_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_1_Pct, y = Attainment_Math_Pct_ES))
ggplot(data = elem_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Math_Pct_ES))
ggplot(data = elem_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES))
ggplot(data = elem_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
xlim(85, 100)
ggplot(data = elem_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
geom_smooth(model = lm)
ggplot(data = elem_1617) +
geom_point(mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
geom_smooth(model = lm) +
xlim(85, 100)
ggplot(data = elem_1617, mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
geom_point() +
geom_smooth(model = lm) +
xlim(85, 100)
attainment <- melt(select(elem_1617, School_ID, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID"),
variable.name = "attainment_variable",
value.name = "attainment_score")
library(reshape2)
e
attainment <- melt(select(elem_1617, School_ID, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID"),
variable.name = "attainment_variable",
value.name = "attainment_score")
)
head(attainment)
attainment <- melt(select(elem_1617, School_ID, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID", "Student_Attendance_Year_2_Pct"),
variable.name = "attainment_variable",
value.name = "attainment_score")
attainment <- melt(select(elem_1617, Student_Attendance_Year_2_Pct, School_ID, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID", "Student_Attendance_Year_2_Pct"),
variable.name = "attainment_variable",
value.name = "attainment_score")
head(attainment)
ggplot(data = elem_1617, mapping = aes(x = Student_Attendance_Year_2_Pct, y = Attainment_Reading_Pct_ES)) +
geom_point() +
geom_smooth(model = lm) +
xlim(85, 100)
ggplot(data = attainment, mapping = aes(x = Student_Attendance_Year_2_Pct, y = attainment_variable)) +
geom_point() +
geom_smooth(model = lm) +
xlim(85, 100)
ggplot(data = attainment, mapping = aes(x = Student_Attendance_Year_2_Pct, y = attainment_score, color = attainment_variable)) +
geom_point() +
geom_smooth(model = lm) +
xlim(85, 100)
ggplot(data = attainment, mapping = aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100)
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Attainment Score type",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates ",
subtitle = "Top ten products produced by child or forced labor in 2015",
x = "Good",
color = "Attainment Score Type",
caption = "Source: United States Department of Labor (DOL), Sweat & Toil Dataset")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score \n (National Percentile)"
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (National Percentile)"
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (National Percentile)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score \n (National Percentile)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (National Percentile)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score Percentile",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617")
mytheme <- theme(panel.background = element_rect(fill = "grey50"))
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme()
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
mytheme <- theme(panel.background = element_rect(fill = "grey10"))
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
mytheme <- theme(panel.background = element_rect(fill = "grey90"))
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
mytheme <- theme(panel.background = element_rect(fill = "grey70"))
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
mytheme <- theme(panel.background = element_rect(fill = "grey80"))
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
mytheme <- theme(panel.background = element_rect(fill = "grey80"), panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank())
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
