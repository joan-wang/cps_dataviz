char <- c('a','b','c')
factr <- factor(char, levels=c('a','b'))
table(char)
table(factr)
char <- c('a','a','a')
factr <- factor(char, levels=c('a','b'))
table(char)
table(factr)
as.integer(factr)
?install.packages
install.package(c('readr', 'haven', 'dplyr', 'tidyr', 'stringr', 'ggplot2'))
install.packages(c('readr', 'haven', 'dplyr', 'tidyr', 'stringr', 'ggplot2'))
?library
library('readr')
library('haven')
library('dplyr')
library('tidyr')
library('stringr')
library('ggplot2')
library(tidyverse)
library(viridis)
library(ggthemes)
library(RColorBrewer)
countries <- read_csv('../data/Countries_merged.csv')
assessments <- read_csv('../data/Assessments_cleaned.csv')
country_goods <- read_csv('../data/CountryGoods.csv')
statistics <- read_csv('../data/Statistics_cleaned.csv')
indicators <- read_csv('../data/HTI00-11.csv')
pdf(file="three_charts.pdf", width=8, height=+ guides(fill=FALSE))
# Bubble Chart
country_goods$good = factor(country_goods$good)
country_goods_2015 <- filter(country_goods, year == 2015)
freq_goods <- count(country_goods_2015, good) %>%
arrange(desc(n)) %>%
top_n(10)
ggplot(data=subset(country_goods_2015,good %in% freq_goods$good), aes(good)) +
geom_dotplot(binwidth=0.5, method='histodot', aes(fill=regionname)) +
scale_y_continuous(name = "Count of countries", breaks = NULL) +
scale_x_discrete(position = 'top') +
labs(title = "Gold, sugarcane, bricks, and cotten are the goods most frequently produced by child or forced labor",
subtitle = "Top ten products produced by child or forced labor in 2015",
x = "Good",
fill = "Region Name",
caption = "Source: United States Department of Labor (DOL), Sweat & Toil Dataset")+
theme(plot.title = element_text(size=11), axis.text.x = element_text(angle = 45, hjust = 0)) +
scale_fill_brewer(drop=TRUE, palette=3, breaks=c('Asia & the Pacific', 'Latin America & the Caribbean', 'Sub-Saharan Africa'))
country_goods$good = factor(country_goods$good)
country_goods_2015 <- filter(country_goods, year == 2015)
freq_goods <- count(country_goods_2015, good) %>%
arrange(desc(n)) %>%
top_n(10)
ggplot(data=subset(country_goods_2015,good %in% freq_goods$good), aes(good)) +
geom_dotplot(binwidth=0.5, method='histodot', aes(fill=regionname)) +
scale_y_continuous(name = "Count of countries", breaks = NULL) +
scale_x_discrete(position = 'top') +
labs(title = "Gold, sugarcane, bricks, and cotten are the goods most frequently produced by child or forced labor",
subtitle = "Top ten products produced by child or forced labor in 2015",
x = "Good",
fill = "Region Name",
caption = "Source: United States Department of Labor (DOL), Sweat & Toil Dataset")+
theme(plot.title = element_text(size=11), axis.text.x = element_text(angle = 45, hjust = 0)) +
scale_fill_brewer(drop=TRUE, palette=3, breaks=c('Asia & the Pacific', 'Latin America & the Caribbean', 'Sub-Saharan Africa'))
attendance <- read_csv('../cps_data/Attendance_03-17.csv')
library(tidyverse)
library(reshape2)
attendance <- read_csv('../cps_data/Attendance_03-17.csv')
setwd("~/GitHub/cps_dataviz/cps_analysis")
attendance <- read_csv('../cps_data/Attendance_03-17.csv')
View(attendance)
attendance <- read_csv('../cps_data/Attendance_03-17.csv')
View(attendance)
attendance <-filter(attendance, Group == "All (Excludes Pre-K)")
?select
attendance <-select(filter(attendance, Group == "All (Excludes Pre-K)"), ~Grade)
attendance <-select(filter(attendance, Group == "All (Excludes Pre-K)"), -Grade)
View(attendance)
attendance_long <- melt(attendance, id.vars = c("School ID", "School Name",	"Network Group"),
variable.name = "year",
value.name = "attendance_rate")
attendance_long <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate")
View(attendance_long)
ggplot(data = attendance) +
geom_line(x = year, y = attendance_rate)
ggplot(data = attendance_long) +
geom_line(x = year, y = attendance_rate)
attendance_long <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate")
ggplot(data = attendance_long) +
geom_line(x = year, y = attendance_rate)
View(attendance_long)
attendance_long$year
ggplot(data = attendance_long) +
geom_line(aes(x = year, y = attendance_rate))
ggplot(data = attendance_long) +
geom_line(aes(x = year, y = average(attendance_rate)))
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
group_by(year) %>%
summarise(attendance_rate = mean(attendance_rate, na.rm = TRUE))
View(avg_attendance)
profile <- read_csv('../cps_data/Profile_1617.csv')
attainment <- melt(select(elem_1617, Student_Attendance_Year_2_Pct, School_ID, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID", "Student_Attendance_Year_2_Pct"),
variable.name = "attainment_variable",
value.name = "attainment_score") %>%
inner_join(profile, by="School_ID")
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(attendance_rate = mean(attendance_rate, na.rm = TRUE))
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
rename("School ID" = "School_ID")
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
rename("School_ID" = "School ID")
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = average(attendance_rate)))
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = avg_attendance))
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = attendance_rate))
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = attendance_rate))
inner_join(profile, by="School_ID") %>%
group_by(year, Zip)
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
rename("School_ID" = "School ID")
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip)
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(attendance_rate = mean(attendance_rate, na.rm = TRUE))
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = attendance_rate))
View(avg_attendance)
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = attendance_rate, color = Zip))
class(avg_attendance$Zip)
avg_attendance$Zip = factor(avg_attendance$Zip)
avg_attendance$Zip <- factor(avg_attendance$Zip)
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = attendance_rate, color = Zip))
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = attendance_rate, group = Zip))
ggplot(data = avg_attendance) +
geom_line(aes(x = year, y = attendance_rate, color = Zip))
ggplot(data = avg_attendance, aes(x = year, y = attendance_rate, color = Zip)) +
geom_line()
View(avg_attendance)
ggplot(data = avg_attendance, aes(x = factor(year), y = attendance_rate, color = factor(Zip))) +
geom_line()
ggplot(data = avg_attendance, aes(x = factor(year), y = attendance_rate, color = factor(Zip))) +
geom_line(aes(group(Zip)))
ggplot(data = avg_attendance, aes(x = factor(year), y = attendance_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
ggplot(data = avg_attendance, aes(x = factor(year), y = attendance_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
ggplot(data = avg_attendance, aes(x = year, y = attendance_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
mobility <- read_csv('../cps_data/Mobility 01-16.csv')
avg_mobility <- melt(mobility, id.vars = c("School ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
class(profile$School_ID)
mobility["School ID"] = integer(mobiliby["School ID"])
mobility["School ID"] = integer(mobility["School ID"])
mobility["School ID"] = as.numeric(mobility["School ID"])
?read_csv
avg_mobility <- transform(mobility, "School_ID" = as.numeric("School ID")) %>%
melt(mobility, id.vars = c("School ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
#rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
avg_mobility <- transform(mobility, "School_ID" = as.numeric("School ID")) %>%
melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
#rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
?as.numeric
mobility <- read_csv('../cps_data/Mobility 01-16.csv')
avg_mobility <- transform(mobility, "School_ID" = as.numeric("School ID")) %>%
melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
#rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
View(mobility)
mobility["School ID"] = as.numeric(mobility["School ID"])
h
avg_mobility <- mutate(mobility, "School_ID" = as.numeric("School ID")) %>%
melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
#rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
avg_mobility <- mutate(mobility, "School_ID" = as.numeric("School ID")) %>%
melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate")
avg_mobility <- mutate(mobility, "School_ID" = as.numeric("School ID"))
View(avg_mobility)
class(avg_mobility$School_ID)
avg_mobility
avg_mobility <- mutate(mobility, "School_ID" = as.numeric("School ID")) %>%
melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
#rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
class(mobility$School_ID)
class(mobility["School_ID"])
mobility
class(mobility["School ID"])
mobility <- transform(mobility, "School ID" = as.numeric(mobility["School ID"])
avg_mobility <- melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
#rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
mobility <- transform(mobility, "School ID" = as.numeric(mobility["School ID"]))
mobility <- transform(mobility, "School ID" = as.numeric("School ID"))
View(mobility)
mobility <- read_csv('../cps_data/Mobility 01-16.csv')
View(mobility)
mobility <- transform(mobility, "School ID" = as.numeric("School ID"))
mobility <- read_csv('../cps_data/Mobility 01-16.csv')
avg_mobility <- melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
avg_mobility <- melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
mobility <- read_csv('../cps_data/Mobility 01-16.csv')
avg_mobility <- melt(mobility, id.vars = c("School_ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
avg_mobility <- melt(mobility, id.vars = c("School ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
mobility <- read_csv('../cps_data/Mobility 01-16.csv')
avg_mobility <- melt(mobility, id.vars = c("School ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
profile <- read_csv('../cps_data/Profile_1617.csv')
profile <- read_csv('../cps_data/Profile_1617.csv', col_types = col(School_ID = col_character())
combined_1617 <- read_csv('../cps_data/Combined_1617.csv')
elem_1617 <- filter(combined_1617, Primary_Category == 'ES')
attendance <- read_csv('../cps_data/Attendance_03-17.csv')
attendance <-select(filter(attendance, Group == "All (Excludes Pre-K)"), -Grade)
# Scatter: second year attendance vs reading attainment score
attainment <- melt(select(elem_1617, Student_Attendance_Year_2_Pct, School_ID, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID", "Student_Attendance_Year_2_Pct"),
variable.name = "attainment_variable",
value.name = "attainment_score")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
# Line: attendance over time
avg_attendance <- melt(attendance, id.vars = c("School ID", "School Name",	"Network", "Group"),
variable.name = "year",
value.name = "attendance_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(attendance_rate = mean(attendance_rate, na.rm = TRUE))
avg_attendance$Zip <- factor(avg_attendance$Zip)
ggplot(data = avg_attendance, aes(x = year, y = attendance_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
# Line: mobility over time
#mobility <- transform(mobility, "School ID" = as.numeric("School ID"))
avg_mobility <- melt(mobility, id.vars = c("School ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
profile <- read_csv('../cps_data/Profile_1617.csv', col_types = col(School_ID = col_character()))
profile <- read_csv('../cps_data/Profile_1617.csv', col_types = col(School_ID = col_character()))
profile <- read_csv('../cps_data/Profile_1617.csv')
profile$School_ID <- character(profile$School_ID)
profile$School_ID <- as.character(profile$School_ID)
avg_mobility <- melt(mobility, id.vars = c("School ID", "School Name"),
variable.name = "year",
value.name = "mobility_rate") %>%
rename("School_ID" = "School ID") %>%
inner_join(profile, by="School_ID") %>%
group_by(year, Zip) %>%
summarise(mobility_rate = mean(mobility_rate, na.rm = TRUE))
ggplot(data = avg_mobility, aes(x = year, y = mobility_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
elem_1617 <- filter(combined_1617, Primary_Category == 'ES')
elem_1617 <- filter(Combined_1617, Primary_Category == 'ES')
combined_1617 <- read_csv('../cps_data/Combined_1617.csv')
elem_1617 <- filter(combined_1617, Primary_Category == 'ES')
View(elem_1617)
attainment <- melt(select(elem_1617, Student_Attendance_Year_2_Pct, School_ID, School_Survey_Safety, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID", "Student_Attendance_Year_2_Pct"),
variable.name = "attainment_variable",
value.name = "attainment_score")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score, color = School_Survey_Safety)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
mytheme <- theme(panel.background = element_rect(fill = "grey80"), panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank())
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score, color = School_Survey_Safety)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
attainment <- melt(select(elem_1617, Student_Attendance_Year_2_Pct, School_ID, School_Survey_Safety, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID", "Student_Attendance_Year_2_Pct"),
variable.name = "attainment_variable",
value.name = "attainment_score")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score, color = School_Survey_Safety)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
attainment <- melt(select(elem_1617, Student_Attendance_Year_2_Pct, School_ID, School_Survey_Safety, Attainment_Reading_Pct_ES, Attainment_Math_Pct_ES), id.vars = c("School_ID", "School_Survey_Safety", "Student_Attendance_Year_2_Pct"),
variable.name = "attainment_variable",
value.name = "attainment_score")
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score, color = School_Survey_Safety)) +
geom_point(aes(color = attainment_variable)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
ggplot(data = attainment, aes(x = Student_Attendance_Year_2_Pct, y = attainment_score)) +
geom_point(aes(color = School_Survey_Safety)) +
geom_smooth(model = lm) +
xlim(85, 100) +
scale_color_discrete(name="Subject",
labels=c("Reading", "Math")) +
labs(title = "Elementary schools with higher attendance rates see higher attainment scores",
subtitle = "CPS attendance rates and attainment scores in 2016",
x = "Attendance Rate",
y = "Attainment Score (Percentile of National Average)",
caption = "Source: Chicago Public Schools - School Progress Reports SY1617") +
mytheme
ggplot(data = avg_mobility, aes(x = year, y = attendance_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
ggplot(data = avg_mobility, aes(x = year, y = mobility_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
attendance <- read_csv('../cps_data/Attendance_03-17.csv') %>%
filter(Group == "All (Excludes Pre-K)") %>%
select(-Grade)
combined_1516 <- read_csv('../cps_data/Combined_1516.csv')
elem_1516 <- filter(combined_1617, Primary_Category == 'ES')
ggplot(data = avg_attendance, aes(x = year, y = attendance_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
data(Puromycin)
Puromycin$time <- as.factor(c(1:12,1:11))
View(Puromycin)
View(combined_1617)
combined_1617$School_Survey_Safety <- as.factor(combined_1617$School_Survey_Safety)
combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=count(School_ID)) %>%
ggplot(aes(x=Zip, y=School_Survey_Safety, fill=num_schools)) + geom_tile()
combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n(School_ID)) %>%
ggplot(aes(x=Zip, y=School_Survey_Safety, fill=num_schools)) + geom_tile()
combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=Zip, y=School_Survey_Safety, fill=num_schools)) + geom_tile()
combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=School_Survey_Safety, y=Zip, fill=num_schools)) + geom_tile()
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n())
View(combined_1617_safety)
combined_1617$Zip <- as.factor(combined_1617$Zip)
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n())
View(combined_1617_safety)
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=School_Survey_Safety, y=Zip, fill=num_schools)) +
geom_tile()+
scale_fill_viridis(option="magma")
library(viridis)
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=School_Survey_Safety, y=Zip, fill=num_schools)) +
geom_tile()+
scale_fill_viridis(option="magma")
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=School_Survey_Safety, y=Zip, fill=num_schools)) +
geom_tile()+
scale_fill_viridis(option="magma")
library(viridis)
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=School_Survey_Safety, y=Zip, fill=num_schools)) +
geom_tile()+
scale_fill_viridis(option="magma")
m
ggplot(data = avg_mobility, aes(x = year, y = mobility_rate, color = factor(Zip))) +
geom_line(aes(group = Zip))
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=School_Survey_Safety, y=Zip, fill=num_schools)) +
geom_tile()+
scale_fill_viridis(option="magma")
combined_1617_safety <- combined_1617 %>%
group_by(Zip, School_Survey_Safety) %>%
summarize(num_schools=n()) %>%
ggplot(aes(x=School_Survey_Safety, y=Zip, fill=num_schools)) +
geom_tile()
